bilby = require('bilby')
boolean = require('./boolean')
should = require('should')
validation = require('./validation')

describe('validation', ->
	describe('validationize()', ->
		f = validation.validationize(boolean.truthy)

		it('should return none if null', -> f(null, ['failure']).hasOwnProperty('errors').should.be.true)
		it('should return some if 0', -> f(0, ['failure']).hasOwnProperty('value').should.be.true)
		it('should return some if an empty string', -> f('', ['failure']).hasOwnProperty('value').should.be.true)
		it('should return some if an empty array', -> f([], ['failure']).hasOwnProperty('value').should.be.true)
		it('should return some if an empty object', -> f({}, ['failure']).hasOwnProperty('value').should.be.true)
		it('should return some if true', -> f(true, ['failure']).hasOwnProperty('value').should.be.true)
		it('should return none if false', -> f(false, ['failure']).hasOwnProperty('errors').should.be.true)
	)
)
